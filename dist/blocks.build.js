!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(1)},function(e,t,n){"use strict";var r=n(2),a=(n.n(r),n(3)),i=(n.n(a),n(4)),__=wp.i18n.__,l=wp.blocks.registerBlockType,o=wp.data.withSelect;l("cgb/block-custom-block",{title:__("Custom Page Box"),icon:"shield",category:"common",keywords:[__("Custom Page Box")],attributes:{pageId:{type:"integer"},page:{type:"object"}},edit:o(function(e){var t=e("core/editor").getCurrentPostId(),n={per_page:-1,exclude:t};return{posts:e("core").getEntityRecords("postType","page",n)}})(i.a),save:function(){return null}})},function(e,t){},function(e,t){},function(e,t,n){"use strict";var r=n(5),a=wp.element,i=a.useEffect,l=a.Fragment,o=wp.components,c=o.SelectControl,u=o.Spinner,__=wp.i18n.__,p=function(e){var t=e.posts,n=e.setAttributes,a=e.attributes,o=e.className,p=a.pageId,s=a.page,d=[{value:"",label:__("Nothing selected")}];return t&&t.forEach(function(e){var t={value:e.id,label:e.title.rendered};d.push(t)}),i(function(){n({page:t?t.filter(function(e){return e.id===parseInt(p)})[0]:null})},[p]),wp.element.createElement("div",{className:o},t?wp.element.createElement(l,null,wp.element.createElement(c,{label:__("Please, select a Page to display"),value:p,options:d,onChange:function(e){n({pageId:parseInt(e)})}}),s&&wp.element.createElement(r.a,{page:s})):wp.element.createElement("div",{className:"spinner__wrapper"},wp.element.createElement(u,null)))};t.a=p},function(e,t,n){"use strict";var r=function(){function e(e,t){var n=[],_n=!0,r=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(_n=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);_n=!0);}catch(e){r=!0,a=e}finally{try{!_n&&l.return&&l.return()}finally{if(r)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),__=wp.i18n.__,a=wp.apiFetch,i=wp.element,l=i.useState,o=i.useEffect,c=function(e){var t=e.page,n=t.title,i=t.featured_media,c=t.link,u=l({}),p=r(u,2),s=p[0],d=p[1];return o(function(){d({}),i&&a({path:"/wp/v2/media/"+i,method:"GET"}).then(function(e){d(e)})},[i]),wp.element.createElement("div",{className:"wrapper"},wp.element.createElement("h2",null,n.rendered),s.media_details&&wp.element.createElement("img",{src:s.source_url,alt:s.title.rendered,width:s.media_details.width,height:s.media_details.height}),wp.element.createElement("a",{href:c},__("Go to page")))};t.a=c}]);